{"version":3,"file":"steering.js","sourceRoot":"","sources":["../../src/steering.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAOrD,IAAM,aAAa,GAAnB,MAAM,aAAc,SAAQ,UAAU;IAAtC;;QACL,kBAAa,GAAG,EAAE,CAAC;QAGnB,YAAO,GAAW,CAAC,CAAC;QAcpB,sBAAiB,GAAG,CAAC,KAA6B,EAAE,EAAE;YACpD,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,IAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAC5E,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,CAAC,CAC7D,CAAC;QACJ,CAAC,CAAC;IAeJ,CAAC;IAhCC,iBAAiB;QACf,MAAM,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;IAC7E,CAAC;IAED,oBAAoB;QAClB,MAAM,CAAC,mBAAmB,CACxB,mBAAmB,EACnB,IAAI,CAAC,iBAAiB,EACtB,IAAI,CACL,CAAC;IACJ,CAAC;IAQD,MAAM,KAAK,MAAM;QACf,OAAO,GAAG,CAAA;;;;KAIT,CAAC;IACJ,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;;;aAGF,CAAC;IACZ,CAAC;CACF,CAAA;AAlCC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;8CACP;AAJT,aAAa;IADzB,aAAa,CAAC,gBAAgB,CAAC;GACnB,aAAa,CAsCzB;SAtCY,aAAa","sourcesContent":["import { LitElement, css, html } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nexport interface SteeringChange {\n  steering: number;\n}\n\n@customElement('drive-steering')\nexport class DriveSteering extends LitElement {\n  MAX_OUT_ANGLE = 60;\n\n  @property({ type: Number })\n  current: number = 0;\n\n  componentDidMount() {\n    window.addEventListener('deviceorientation', this.handleOrientation, true);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\n      'deviceorientation',\n      this.handleOrientation,\n      true\n    );\n  }\n\n  handleOrientation = (event: DeviceOrientationEvent) => {\n    const current = Math.min(1, Math.max(-1, event.beta! / this.MAX_OUT_ANGLE));\n    this.dispatchEvent(\n      new CustomEvent('change', { detail: { steering: current } })\n    );\n  };\n  static get styles() {\n    return css`\n      :host {\n        width: 40%;\n      }\n    `;\n  }\n\n  render() {\n    return html`\n      <div></div>\n        <div>rotation: {this.props.current.toFixed(2)}</div>\n      </div>`;\n  }\n}\n"]}