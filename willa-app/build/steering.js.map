{"version":3,"file":"steering.js","sourceRoot":"","sources":["../src/steering.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAa,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAS,MAAM,mBAAmB,CAAC;AAO5D,IAAM,aAAa,GAAnB,MAAM,aAAc,SAAQ,UAAU;IAAtC;;QACL,kBAAa,GAAG,EAAE,CAAC;QAGnB,YAAO,GAAW,CAAC,CAAC;QAapB,sBAAiB,GAAG,CAAC,KAA6B,EAAE,EAAE;YACpD,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,IAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAC5E,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,CAAC,CAC7D,CAAC;QACJ,CAAC,CAAC;IAKJ,CAAC;IArBC,iBAAiB;QACf,MAAM,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;IAC7E,CAAC;IACD,oBAAoB;QAClB,MAAM,CAAC,mBAAmB,CACxB,mBAAmB,EACnB,IAAI,CAAC,iBAAiB,EACtB,IAAI,CACL,CAAC;IACJ,CAAC;IASD,MAAM;QACJ,OAAO,IAAI,CAAC;IACd,CAAC;CACF,CAAA;AAvBC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;8CACP;AAJT,aAAa;IADzB,aAAa,CAAC,gBAAgB,CAAC;GACnB,aAAa,CA2BzB;SA3BY,aAAa","sourcesContent":["import { LitElement, css, html } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\n\nexport interface SteeringChange {\n  steering: number;\n}\n\n@customElement('drive-steering')\nexport class DriveSteering extends LitElement {\n  MAX_OUT_ANGLE = 60;\n\n  @property({ type: Number })\n  current: number = 0;\n\n  connectedCallback(): void {\n    window.addEventListener('deviceorientation', this.handleOrientation, true);\n  }\n  disconnectedCallback(): void {\n    window.removeEventListener(\n      'deviceorientation',\n      this.handleOrientation,\n      true\n    );\n  }\n\n  handleOrientation = (event: DeviceOrientationEvent) => {\n    const current = Math.min(1, Math.max(-1, event.beta! / this.MAX_OUT_ANGLE));\n    this.dispatchEvent(\n      new CustomEvent('change', { detail: { steering: current } })\n    );\n  };\n\n  render() {\n    return null;\n  }\n}\n"]}